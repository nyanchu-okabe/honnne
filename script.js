// 正規表現用に特殊文字をエスケープする関数
function escapeRegExp(string) {
  return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"); // 特殊文字をエスケープ
}

// 拡充した変換リストを定義
const conversionList = {
  // 既存の表現
  ごめん: "僕悪くない",
  大丈夫: "ちょっと無理してる",
  了解: "やる気ないけどやるね",
  ありがとう: "あんまり感謝してないかも",
  好き: "嫌いじゃない",
  嫌いじゃない: "ちょっと嫌い",
  // 新しい表現
  まあまあ: "イマイチ",
  すみません: "謝りたくないけど謝る",
  それな: "全然違うけどね",
  すごいですね: "それほどでもない",
  お元気ですか: "忙しくて疲れてるよ",
  面白い: "ちょっとつまらない",
  すぐに対応します: "後でやるかも",
  わかってる: "実はよくわからない",
  結構です: "やめてください",
  任せてください: "誰かに頼みたい",
  もう一度考えます: "考えたくない",
  ちょっとだけ: "結構たくさん",
  悪くない: "少し嫌だ",
  がんばる: "無理かもしれないけどやってみる",
  やる気満々: "やる気ない",
  意識高い系: "本当に意識高い？",
  一生懸命: "疲れてきた",
  かっこいい: "まあまあ普通",
  すごく嬉しい: "まあまあ嬉しい",
  どうしようもない: "何か方法があるはず",
  いい人だね: "ちょっと怪しい",
  お会いできて嬉しい: "少し面倒だ",
  時間があれば: "時間はない",
  ご都合いかがでしょうか: "都合が悪いことはわかっている",
  興味があります: "実はそこまで興味ない",
  よろしくお願いします: "ちょっと面倒だけど頼む",
  やめておきます: "やりたくない",
  そこそこ: "実はかなり",
  まかせて: "誰かにやってほしい",
  正直に言うと: "隠しておきたいけど",
  まじめに: "ちょっとふざけてる",
  落ち着いて: "落ち着いていられない",
  "本当に？": "信じてない",
  何とかする: "誰か助けて",
  わざわざ: "本当は来なくても良かったのに",
  申し訳ない: "特に申し訳なくない",
  確認します: "確認しないかも",
  お手伝いします: "できれば手伝いたくない",
  最高です: "まあまあです",
  普通: "つまらない",
  信じられない: "ちょっと信じてる",
  おめでとう: "少し嫉妬してる",
  驚いた: "想像通り",
  困った: "少しも困ってない",
  どうしよう: "助けてほしい",
  どうでもいいよ: "実はどうでもよくない",
  やっぱりね: "驚いてるけど認めたくない",
  思ってたよりいい: "そこまで良くない",
  遅れてすみません: "遅れるつもりだった",
  考え直す: "考えたくない",
  運がいい: "少し運が悪い",
  なんでもない: "本当は何かある",
  少しだけ手伝って: "結構手伝って",
  わかりません: "わかってるけど言いたくない",
  緊張する: "めっちゃ緊張してる",
  何も問題ない: "問題だらけ",
  それはどうかな: "やめてほしいけど",
  少し違う: "かなり違う",
  時間がかかる: "思ったより早くできるかも",
  大変ですね: "大変そうに見えないけど",
  心配しないで: "少し心配してる",
  最高の気分: "実は普通の気分",
  自信があります: "少し不安",
  楽勝: "結構難しい",
  またね: "次はないかも",
  "ありがとう、感動しました": "そこまで感動してない",
  特に理由はない: "理由があるけど言いたくない",
  頑張ってください: "無理だと思うけどね",
  応援してます: "そこまで応援してない",
  好きなようにどうぞ: "やめてほしい",
  わかりやすい: "実はわかりにくい",
  一緒にやりましょう: "本当は一人でやりたい",
  お待ちしてます: "あまり待ちたくない",
  どういたしまして: "少し面倒だった",
  簡単な仕事です: "かなり難しい",
  いつでもお越しください: "できれば来ないでほしい",
  "ありがとう、お疲れさまでした": "まあ、悪くなかった",
  "信じていいの？": "少し疑ってる",
  ちょっとだけ話しましょう: "長く話すつもり",
  素晴らしいですね: "まあまあ普通",
  "すみません、今は忙しいです": "実は暇かも",
  もう一度考えてみます: "結論は変わらない",
  変わるよ: "そこどけ",
  休んでいいよ: "自分でやったほうが早い",
  興味深い: "どう考えたらそうなる？",
  暖かい人: "おせっかい、ちょっと関わりたくない",
};

// テキストを変換する関数
function convertText() {
  let input = document.getElementById("inputText").value;

  // 変換リストを使用してテキストを変換
  for (const [key, value] of Object.entries(conversionList)) {
    const regex = new RegExp(escapeRegExp(key), "g"); // エスケープされた正規表現を使用
    input = input.replace(regex, value);
  }

  document.getElementById("outputText").innerText = input;
}

// テキストエリアをクリアする関数
function clearText() {
  document.getElementById("inputText").value = "";
  document.getElementById("outputText").innerText = "";
}

// 音声入力を開始する関数
function startVoiceInput() {
  if (!("webkitSpeechRecognition" in window)) {
    alert(
      "お使いのブラウザは音声認識をサポートしていません。Chromeをお試しください。",
    );
    return;
  }

  const recognition = new webkitSpeechRecognition();
  recognition.lang = "ja-JP"; // 日本語で音声認識を行う
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;

  recognition.start();

  recognition.onresult = function (event) {
    const transcript = event.results[0][0].transcript;
    document.getElementById("inputText").value += transcript;
  };

  recognition.onerror = function (event) {
    console.error("音声認識エラー:", event.error);
  };

  recognition.onend = function () {
    console.log("音声認識が終了しました。");
  };
}
